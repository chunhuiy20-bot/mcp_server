{
  "name": "chat_workflow",
  "description": "Generated by AI Innovation Lab",
  "state_schema": {
    "messages": {
      "type": "list",
      "reducer": "add_messages"
    },
    "intention": {
      "type": "str"
    }
  },
  "entry_point": "Intention",
  "nodes": [
    {
      "name": "Intention",
      "type": "llm",
      "config": {
        "model": "gpt-4",
        "temperature": 0.7,
        "system_prompt": "你是一个意图识别助手，帮我识别用户意图，chat|task。当用户说到task的的时候输出task，否则都是chat",
        "need_structure_output": true,
        "mcp_tools": [],
        "output_schema": {
          "__nested__": {},
          "intention": {
            "type": "str",
            "description": "输出chat或task，只能二选一"
          }
        }
      },
      "input_mapping": {
        "source": "messages"
      },
      "output_mapping": {
        "target": "intention"
      }
    },
    {
      "name": "Chat",
      "type": "llm",
      "config": {}
    },
    {
      "name": "Task",
      "type": "llm",
      "config": {}
    }
  ],
  "edges": [
    {
      "type": "conditional",
      "source": "Intention",
      "conditions": [
        {
          "expression": "intention equals chat",
          "target": "Chat"
        },
        {
          "expression": "intention equals task",
          "target": "Task"
        }
      ],
      "default": "Task"
    },
    {
      "type": "normal",
      "source": "Chat",
      "target": "END"
    },
    {
      "type": "normal",
      "source": "Task",
      "target": "END"
    }
  ]
}